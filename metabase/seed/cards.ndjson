{"model": "card", "name": "Total Funding Received", "collection": "summary_dashboards", "display": "scalar", "dataset_query": {"database": 1, "type": "native", "native": {"query": "SELECT SUM(ps.total_received) AS total_received FROM project_summary ps JOIN projects p ON ps.project_fk = p.id WHERE p.owner_org_id = {{org_id}} [[AND p.project_id = {{project_id}}]];", "template-tags": {"org_id": {"name": "org_id", "display-name": "org_id", "type": "text"}, "project_id": {"name": "project_id", "display-name": "project_id", "type": "text", "required": false}}}}}
{"model": "card", "name": "Total Funding Spent", "collection": "summary_dashboards", "display": "scalar", "dataset_query": {"database": 1, "type": "native", "native": {"query": "SELECT SUM(ps.total_spent) AS total_spent FROM project_summary ps JOIN projects p ON ps.project_fk = p.id WHERE p.owner_org_id = {{org_id}} [[AND p.project_id = {{project_id}}]];", "template-tags": {"org_id": {"name": "org_id", "display-name": "org_id", "type": "text"}, "project_id": {"name": "project_id", "display-name": "project_id", "type": "text", "required": false}}}}}
{"model": "card", "name": "Total Beneficiaries", "collection": "summary_dashboards", "display": "scalar", "dataset_query": {"database": 1, "type": "native", "native": {"query": "SELECT SUM(ps.total_beneficiaries) AS total_beneficiaries FROM project_summary ps JOIN projects p ON ps.project_fk = p.id WHERE p.owner_org_id = {{org_id}} [[AND p.project_id = {{project_id}}]];", "template-tags": {"org_id": {"name": "org_id", "display-name": "org_id", "type": "text"}, "project_id": {"name": "project_id", "display-name": "project_id", "type": "text", "required": false}}}}}
{"model": "card", "name": "Average Cost per Beneficiary", "collection": "summary_dashboards", "display": "scalar", "dataset_query": {"database": 1, "type": "native", "native": {"query": "SELECT AVG(ps.cost_per_beneficiary) AS cost_per_beneficiary FROM project_summary ps JOIN projects p ON ps.project_fk = p.id WHERE p.owner_org_id = {{org_id}} [[AND p.project_id = {{project_id}}]];", "template-tags": {"org_id": {"name": "org_id", "display-name": "org_id", "type": "text"}, "project_id": {"name": "project_id", "display-name": "project_id", "type": "text", "required": false}}}}}
{"model": "card", "name": "Metric Totals by Name", "collection": "summary_dashboards", "display": "table", "dataset_query": {"database": 1, "type": "native", "native": {"query": "SELECT ms.metric_name, SUM(ms.total_value) AS total_value FROM metrics_summary ms JOIN projects p ON ms.project_fk = p.id WHERE p.owner_org_id = {{org_id}} [[AND p.project_id = {{project_id}}]] GROUP BY ms.metric_name ORDER BY ms.metric_name;", "template-tags": {"org_id": {"name": "org_id", "display-name": "org_id", "type": "text"}, "project_id": {"name": "project_id", "display-name": "project_id", "type": "text", "required": false}}}}}
